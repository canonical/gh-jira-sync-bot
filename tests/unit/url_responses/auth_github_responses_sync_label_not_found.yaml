# this file is generated automatically via responses. Use _recorder.record()
responses:
- response:
    auto_calculate_content_length: false
    body: '{"id":35534068,"account":{"login":"beliaev-maksim","id":51964909,"node_id":"MDQ6VXNlcjUxOTY0OTA5","avatar_url":"https://avatars.githubusercontent.com/u/51964909?v=4","gravatar_id":"","url":"https://api.github.com/users/beliaev-maksim","html_url":"https://github.com/beliaev-maksim","followers_url":"https://api.github.com/users/beliaev-maksim/followers","following_url":"https://api.github.com/users/beliaev-maksim/following{/other_user}","gists_url":"https://api.github.com/users/beliaev-maksim/gists{/gist_id}","starred_url":"https://api.github.com/users/beliaev-maksim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliaev-maksim/subscriptions","organizations_url":"https://api.github.com/users/beliaev-maksim/orgs","repos_url":"https://api.github.com/users/beliaev-maksim/repos","events_url":"https://api.github.com/users/beliaev-maksim/events{/privacy}","received_events_url":"https://api.github.com/users/beliaev-maksim/received_events","type":"User","site_admin":false},"repository_selection":"selected","access_tokens_url":"https://api.github.com/app/installations/35534068/access_tokens","repositories_url":"https://api.github.com/installation/repositories","html_url":"https://github.com/settings/installations/35534068","app_id":308591,"app_slug":"syncronize-issues-to-jira","target_id":51964909,"target_type":"User","permissions":{"issues":"write","contents":"read","metadata":"read"},"events":["issues","issue_comment"],"created_at":"2023-03-22T14:24:41.000Z","updated_at":"2023-03-22T14:25:28.000Z","single_file_name":null,"has_multiple_single_files":false,"single_file_paths":[],"suspended_by":null,"suspended_at":null}'
    content_type: text/plain
    method: GET
    status: 200
    url: https://api.github.com:443/repos/beliaev-maksim/test-ci/installation
- response:
    auto_calculate_content_length: false
    body: '{"token":"ghs_XVo5Hjf","expires_at":"2023-07-05T12:56:03Z","permissions":{"contents":"read","issues":"write","metadata":"read"},"repository_selection":"selected"}'
    content_type: text/plain
    method: POST
    status: 201
    url: https://api.github.com:443/app/installations/35534068/access_tokens
- response:
    auto_calculate_content_length: false
    body: '{"id":602008644,"node_id":"R_kgDOI-HsRA","name":"test-ci","full_name":"beliaev-maksim/test-ci","private":false,"owner":{"login":"beliaev-maksim","id":51964909,"node_id":"MDQ6VXNlcjUxOTY0OTA5","avatar_url":"https://avatars.githubusercontent.com/u/51964909?v=4","gravatar_id":"","url":"https://api.github.com/users/beliaev-maksim","html_url":"https://github.com/beliaev-maksim","followers_url":"https://api.github.com/users/beliaev-maksim/followers","following_url":"https://api.github.com/users/beliaev-maksim/following{/other_user}","gists_url":"https://api.github.com/users/beliaev-maksim/gists{/gist_id}","starred_url":"https://api.github.com/users/beliaev-maksim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliaev-maksim/subscriptions","organizations_url":"https://api.github.com/users/beliaev-maksim/orgs","repos_url":"https://api.github.com/users/beliaev-maksim/repos","events_url":"https://api.github.com/users/beliaev-maksim/events{/privacy}","received_events_url":"https://api.github.com/users/beliaev-maksim/received_events","type":"User","site_admin":false},"html_url":"https://github.com/beliaev-maksim/test-ci","description":null,"fork":false,"url":"https://api.github.com/repos/beliaev-maksim/test-ci","forks_url":"https://api.github.com/repos/beliaev-maksim/test-ci/forks","keys_url":"https://api.github.com/repos/beliaev-maksim/test-ci/keys{/key_id}","collaborators_url":"https://api.github.com/repos/beliaev-maksim/test-ci/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/beliaev-maksim/test-ci/teams","hooks_url":"https://api.github.com/repos/beliaev-maksim/test-ci/hooks","issue_events_url":"https://api.github.com/repos/beliaev-maksim/test-ci/issues/events{/number}","events_url":"https://api.github.com/repos/beliaev-maksim/test-ci/events","assignees_url":"https://api.github.com/repos/beliaev-maksim/test-ci/assignees{/user}","branches_url":"https://api.github.com/repos/beliaev-maksim/test-ci/branches{/branch}","tags_url":"https://api.github.com/repos/beliaev-maksim/test-ci/tags","blobs_url":"https://api.github.com/repos/beliaev-maksim/test-ci/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/beliaev-maksim/test-ci/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/beliaev-maksim/test-ci/git/refs{/sha}","trees_url":"https://api.github.com/repos/beliaev-maksim/test-ci/git/trees{/sha}","statuses_url":"https://api.github.com/repos/beliaev-maksim/test-ci/statuses/{sha}","languages_url":"https://api.github.com/repos/beliaev-maksim/test-ci/languages","stargazers_url":"https://api.github.com/repos/beliaev-maksim/test-ci/stargazers","contributors_url":"https://api.github.com/repos/beliaev-maksim/test-ci/contributors","subscribers_url":"https://api.github.com/repos/beliaev-maksim/test-ci/subscribers","subscription_url":"https://api.github.com/repos/beliaev-maksim/test-ci/subscription","commits_url":"https://api.github.com/repos/beliaev-maksim/test-ci/commits{/sha}","git_commits_url":"https://api.github.com/repos/beliaev-maksim/test-ci/git/commits{/sha}","comments_url":"https://api.github.com/repos/beliaev-maksim/test-ci/comments{/number}","issue_comment_url":"https://api.github.com/repos/beliaev-maksim/test-ci/issues/comments{/number}","contents_url":"https://api.github.com/repos/beliaev-maksim/test-ci/contents/{+path}","compare_url":"https://api.github.com/repos/beliaev-maksim/test-ci/compare/{base}...{head}","merges_url":"https://api.github.com/repos/beliaev-maksim/test-ci/merges","archive_url":"https://api.github.com/repos/beliaev-maksim/test-ci/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/beliaev-maksim/test-ci/downloads","issues_url":"https://api.github.com/repos/beliaev-maksim/test-ci/issues{/number}","pulls_url":"https://api.github.com/repos/beliaev-maksim/test-ci/pulls{/number}","milestones_url":"https://api.github.com/repos/beliaev-maksim/test-ci/milestones{/number}","notifications_url":"https://api.github.com/repos/beliaev-maksim/test-ci/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/beliaev-maksim/test-ci/labels{/name}","releases_url":"https://api.github.com/repos/beliaev-maksim/test-ci/releases{/id}","deployments_url":"https://api.github.com/repos/beliaev-maksim/test-ci/deployments","created_at":"2023-02-15T09:57:53Z","updated_at":"2023-05-15T09:25:41Z","pushed_at":"2023-05-15T09:29:16Z","git_url":"git://github.com/beliaev-maksim/test-ci.git","ssh_url":"git@github.com:beliaev-maksim/test-ci.git","clone_url":"https://github.com/beliaev-maksim/test-ci.git","svn_url":"https://github.com/beliaev-maksim/test-ci","homepage":null,"size":10,"stargazers_count":0,"watchers_count":0,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1,"license":null,"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":1,"watchers":0,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":false},"temp_clone_token":"","network_count":0,"subscribers_count":1}'
    content_type: text/plain
    method: GET
    status: 200
    url: https://api.github.com:443/repos/beliaev-maksim/test-ci

# get content of .jira_sync_config.yaml to load the settings for the repo
- response:
    auto_calculate_content_length: false
    body: '{"name":".jira_sync_config.yaml","path":".github/.jira_sync_config.yaml","sha":"a1a8aab6de92fc3eed4211350200ada4a2405b9c","size":297,"url":"https://api.github.com/repos/beliaev-maksim/test-ci/contents/.github/.jira_sync_config.yaml?ref=master","html_url":"https://github.com/beliaev-maksim/test-ci/blob/master/.github/.jira_sync_config.yaml","git_url":"https://api.github.com/repos/beliaev-maksim/test-ci/git/blobs/a1a8aab6de92fc3eed4211350200ada4a2405b9c","download_url":"https://raw.githubusercontent.com/beliaev-maksim/test-ci/master/.github/.jira_sync_config.yaml","type":"file","content":"c2V0dGluZ3M6CiAgY29tcG9uZW50czoKICAgIC0gSW9UCiAgICAtIERBQ0ggVFQKICBsYWJlbHM6CiAgICAtIGJ1ZwogICAgLSBjdXN0b20KICBhZGRfZ2hfY29tbWVudDogZmFsc2UKICBhZGRfZ2hfc3luY2VkX2xhYmVsOiB0cnVlCiAgc3luY19kZXNjcmlwdGlvbjogdHJ1ZQogIHN5bmNfY29tbWVudHM6IHRydWUKICBlcGljX2tleTogIk1UQy0yOTYiCiAgamlyYV9wcm9qZWN0X2tleTogIk1UQyIKICBzdGF0dXNfbWFwcGluZzoKICAgIG9wZW5lZDogVW50cmlhZ2VkCiAgICBjbG9zZWQ6IGRvbmUgCiAgbGFiZWxfbWFwcGluZzoKICAgIGVuaGFuY2VtZW50OiBTdG9yeQo=","encoding":"base64","_links":{"self":"https://api.github.com/repos/beliaev-maksim/test-ci/contents/.github/.jira_sync_config.yaml?ref=master","git":"https://api.github.com/repos/beliaev-maksim/test-ci/git/blobs/a1a8aab6de92fc3eed4211350200ada4a2405b9c","html":"https://github.com/beliaev-maksim/test-ci/blob/master/.github/.jira_sync_config.yaml"}}'
    content_type: text/plain
    method: GET
    status: 200
    url: https://api.github.com:443/repos/beliaev-maksim/test-ci/contents/.github/.jira_sync_config.yaml

# get the (nonexistent) synced-to-jira label from the repo
- response:
    auto_calculate_content_length: false
    body: '{"message": "Not Found", "documentation_url": "https://docs.github.com/rest/issues/labels#get-a-label", "status": "404"}'
    content_type: text/plain
    method: GET
    status: 404
    url: https://api.github.com:443/repos/beliaev-maksim/test-ci/labels/synced-to-jira

# add comment to GitHub issue with warning about misconfiguration
- response:
      auto_calculate_content_length: false
      body: >
        {"id":1,"node_id":"MDEyOklzc3VlQ29tbWVudDE=","url":"https://api.github.com:443/repos/beliaev-maksim/test-ci/issues/comments/12345","html_url":"https://github.com/beliaev-maksim/test-ci/issues/30#issuecomment-12345","body":"Thank you for reporting your feedback to us!\n\nThe internal ticket has been created:{jira_issue_link}.\n\n>This message was auto generated\n\nWarning: 'synced-to-jira' label doesn't exist in the GitHub repo.","user":{"login":"beliaev-maksim","id":51964909,"node_id":"MDQ6VXNlcjUxOTY0OTA5","avatar_url":"https://avatars.githubusercontent.com/u/51964909?v=4","gravatar_id":"","url":"https://api.github.com/users/beliaev-maksim","html_url":"https://github.com/beliaev-maksim","followers_url":"https://api.github.com/users/beliaev-maksim/followers","following_url":"https://api.github.com/users/beliaev-maksim/following{/other_user}","gists_url":"https://api.github.com/users/beliaev-maksim/gists{/gist_id}","starred_url":"https://api.github.com/users/beliaev-maksim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beliaev-maksim/subscriptions","organizations_url":"https://api.github.com/users/beliaev-maksim/orgs","repos_url":"https://api.github.com/users/beliaev-maksim/repos","events_url":"https://api.github.com/users/beliaev-maksim/events{/privacy}","received_events_url":"https://api.github.com/users/beliaev-maksim/received_events","type":"User","site_admin":false},"created_at":"2011-04-14T16:00:49Z","updated_at":"2011-04-14T16:00:49Z","issue_url":"https://api.github.com:443/repos/beliaev-maksim/test-ci/issues/30","author_association":"COLLABORATOR"}
      content_type: text/plain
      method: POST
      status: 201
      url: https://api.github.com:443/repos/beliaev-maksim/test-ci/issues/30/comments